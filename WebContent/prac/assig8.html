<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body onload="return loadValidate()">

	<form onsubmit="submitValidate()">

		<fieldset>
			<legend>Login</legend>
			<label>UserName:</label><input type="text" name="uName" id="uName">
			<br> <label>Password:</label><input type="password"
				name="password" id="password"><br> <label>Submit:</label><input
				type="submit" value="submit"><br> <label>Reset:</label><input
				type="reset" value="reset"><br>



		</fieldset>

	</form>

	<div id='table'></div>



	<div id='validMessage'></div>

</body>



<script type="text/javascript">
	function loadValidate() {

		var tableTag = document.querySelector('#table');

		var tableBody = " ";

		for (var i = 0; i < localStorage.length; i++) {
			var key = localStorage.key(i);
			var JSONObj = localStorage.getItem(key);
			var JavaSObj = JSON.parse(JSONObj);
			console.log(JavaSObj);
			tableBody += "<tr><td>" + JavaSObj.uName + "</td><td>"
					+ JavaSObj.password + "</td><td>" + JavaSObj.genderName
					+ "</td><td>" + JavaSObj.jobstatus + "</td><td>"
					+ JavaSObj.dob + "</td></tr>";

		}
		console.log(tableBody);
		tableTag.innerHTML = "<h1>LOCAL STORAGE DATA:</h1><table border=1><tr><th>User Name</th><th>Password</th><th>Gender</th><th>Job Status</th><th>DOB</th></tr>"
				+ tableBody + "</table>";

	}
	function submitValidate() {
		var uName = document.getElementById("uName").value;
		var password = document.getElementById("password").value;
		console.log("local storage" + localStorage.getItem(uName));

		var JSONObj = localStorage.getItem(uName);
		console.log(JSONObj);
		var userObj = JSON.parse(JSONObj);
		console.log(userObj);
		console.log(userObj.password);
		console.log("password" + password);
		var tableTag = document.querySelector('#validMessage');
		if (password == userObj.password) {
			tableTag.innerHTML ='<h1 style=color:red>Valid User</h1>';
		} else {
			tableTag.innerHTML ='<h1 style=color:red>InValid User</h1>';
		}
		return false;
	}
</script>
</html>